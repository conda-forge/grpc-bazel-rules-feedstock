context:
  version: "1.78.0"

package:
  name: grpc-bazel-rules
  version: ${{ version }}

source:
  url: https://github.com/grpc/grpc/archive/v${{ version }}.tar.gz
  sha256: e2ace790a5f2d0f83259d1390a816a33b013ea34df2e86084d927e58daa4c5d9
  patches:
    - 0001-Adjust-to-support-xla-specific-features.patch

build:
  number: 0
  noarch: generic

requirements:
  run_constraints:
    - libgrpc ${{ version }}.*

tests:
  - package_contents:
      files:
        - share/bazel/grpc/bazel/python_rules.bzl

about:
  homepage: https://grpc.io/
  repository: https://github.com/grpc/grpc
  license: Apache-2.0
  license_file: LICENSE
  summary: Bazel rules for grpc

extra:
  recipe-maintainers:
    - conda-forge/grpc-cpp
